<div class="main-container">
  <!-- Header with Add Course Button -->
  <div class="page-header">
    <h1>Course Management</h1>
    <button mat-raised-button color="primary" (click)="addNewCourse()">
      <mat-icon>add</mat-icon>
      Add Course
    </button>
  </div>

  <!-- Content Container -->
  <div class="content-container">
    <!-- Left Filter Panel -->
    <div class="filter-panel">
      <h3>Filters</h3>
      
      <mat-form-field appearance="outline" class="search-field">
        <mat-label>Search courses</mat-label>
        <input matInput [(ngModel)]="searchTerm" (ngModelChange)="onSearchChange()" placeholder="Search by name or description">
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Board</mat-label>
        <mat-select [(ngModel)]="filters.board" (ngModelChange)="onFilterChange()">
          <mat-option value="">All Boards</mat-option>
          <mat-option *ngFor="let board of boardOptions" [value]="board">{{ board }}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Medium</mat-label>
        <mat-select [(ngModel)]="filters.medium" (ngModelChange)="onFilterChange()">
          <mat-option value="">All Mediums</mat-option>
          <mat-option *ngFor="let medium of mediumOptions" [value]="medium">{{ medium }}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Grade</mat-label>
        <mat-select [(ngModel)]="filters.grade" (ngModelChange)="onFilterChange()">
          <mat-option value="">All Grades</mat-option>
          <mat-option *ngFor="let grade of gradeOptions" [value]="grade">{{ grade }}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Subject</mat-label>
        <mat-select [(ngModel)]="filters.subject" (ngModelChange)="onFilterChange()">
          <mat-option value="">All Subjects</mat-option>
          <mat-option *ngFor="let subject of subjectOptions" [value]="subject">{{ subject }}</mat-option>
        </mat-select>
      </mat-form-field>

      <button mat-raised-button color="warn" (click)="clearFilters()" class="clear-button">
        <mat-icon>clear</mat-icon>
        Clear Filters
      </button>
    </div>

    <!-- Right Course Cards -->
    <div class="course-container">
    <div class="course-grid" *ngIf="filteredCourses.length > 0">
      <mat-card *ngFor="let course of filteredCourses" class="course-card" (click)="navigateToCourse(course.id!)">
        <mat-card-header>
          <mat-card-title>{{ course.name }}</mat-card-title>
          <mat-card-subtitle>{{ course.board }}</mat-card-subtitle>
        </mat-card-header>
        
        <mat-card-content>
          <p class="description">{{ course.description }}</p>
          
          <div class="course-details">
            <div class="detail-item">
              <mat-icon>language</mat-icon>
              <span><strong>Medium:</strong> {{ course.medium | joinList }}</span>
            </div>
            <div class="detail-item">
              <mat-icon>school</mat-icon>
              <span><strong>Grade:</strong> {{ course.grade | joinList }}</span>
            </div>
            <div class="detail-item">
              <mat-icon>book</mat-icon>
              <span><strong>Subject:</strong> {{ course.subject | joinList }}</span>
            </div>
          </div>
        </mat-card-content>
        
        <mat-card-actions>
          <button mat-button color="primary" (click)="navigateToCourse(course.id!); $event.stopPropagation()">
            <mat-icon>visibility</mat-icon>
            View Details
          </button>
          <button mat-button color="accent" (click)="editCourse(course.id!); $event.stopPropagation()">
            <mat-icon>edit</mat-icon>
            Edit
          </button>
          <button mat-button color="warn" (click)="deleteCourse(course.id!); $event.stopPropagation()">
            <mat-icon>delete</mat-icon>
            Delete
          </button>
        </mat-card-actions>
      </mat-card>
    </div>

    <div *ngIf="filteredCourses.length === 0" class="no-results">
      <mat-icon>search_off</mat-icon>
      <h3>No courses found</h3>
      <p>Try adjusting your search criteria or clear the filters.</p>
    </div>
    </div>
  </div>
</div>
